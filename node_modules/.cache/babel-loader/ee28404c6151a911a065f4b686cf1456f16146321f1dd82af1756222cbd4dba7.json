{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst UserSlice = createSlice({\n  name: 'user',\n  initialState: {\n    value: \"notLoggedIn\",\n    role: \"customer\"\n  },\n  reducers: {\n    register: async (state, action) => {\n      // console.log(\"form\", form);\n      // console.log(\"I am in action\");\n      console.log(\"state\", state);\n      console.log(\"action\", action);\n      console.log(\"before\");\n      const response = await axios.post(\"http://localhost:9091/user/register\", action.payload);\n      console.log(\"response\", response.data.statusCode);\n      if (response.data.statusCode == 200) {\n        console.log(\"inside\");\n        state.value = \"Registered\";\n        return state;\n      }\n\n      // axios.post(\"http://localhost:9091/user/register\", action.payload).then(\n      //     response => {\n      //         console.log(response);\n      //         state = response;\n      //         return state;\n      //     },\n      //     error => {\n      //         console.log(error)\n      //     }\n      // )\n      // console.log(\"after\");\n    },\n\n    login: async (state, action) => {\n      // console.log(\"form\", form);\n      // console.log(\"I am in action\");\n      console.log(\"state\", state);\n      console.log(\"action\", action);\n      console.log(\"before\");\n      const response = await axios.post(\"http://localhost:9091/user/login\", action.payload);\n      console.log(\"response\", response.data.statusCode);\n      if (response.data.statusCode == 200) {\n        console.log(\"inside\");\n        state.value = \"loggedIn\";\n        state.role = response.data.role;\n        return state;\n      }\n\n      // axios.post(\"http://localhost:9091/user/register\", action.payload).then(\n      //     response => {\n      //         console.log(response);\n      //         state = response;\n      //         return state;\n      //     },\n      //     error => {\n      //         console.log(error)\n      //     }\n      // )\n      // console.log(\"after\");\n    }\n  }\n});\n\nexport const {\n  register,\n  login\n} = UserSlice.actions;\nexport default UserSlice.reducer;","map":{"version":3,"names":["createSlice","axios","UserSlice","name","initialState","value","role","reducers","register","state","action","console","log","response","post","payload","data","statusCode","login","actions","reducer"],"sources":["/Users/saikumar/Desktop/React-Pro/FrontendReact-12pm/src/UserSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst UserSlice = createSlice(\n    {\n        name: 'user',\n        initialState: {\n            value: \"notLoggedIn\",\n            role: \"customer\"\n        },\n        reducers: {\n            register: async (state, action) => {\n                // console.log(\"form\", form);\n                // console.log(\"I am in action\");\n                console.log(\"state\", state);\n                console.log(\"action\", action);\n                console.log(\"before\");\n\n                const response = await axios.post(\"http://localhost:9091/user/register\", action.payload);\n                console.log(\"response\", response.data.statusCode);\n                if (response.data.statusCode == 200) {\n                    console.log(\"inside\");\n                    state.value = \"Registered\";\n                    return state;\n                }\n\n                // axios.post(\"http://localhost:9091/user/register\", action.payload).then(\n                //     response => {\n                //         console.log(response);\n                //         state = response;\n                //         return state;\n                //     },\n                //     error => {\n                //         console.log(error)\n                //     }\n                // )\n                // console.log(\"after\");\n            },\n\n            login: async (state, action) => {\n                // console.log(\"form\", form);\n                // console.log(\"I am in action\");\n                console.log(\"state\", state);\n                console.log(\"action\", action);\n                console.log(\"before\");\n\n                const response = await axios.post(\"http://localhost:9091/user/login\", action.payload);\n                console.log(\"response\", response.data.statusCode);\n                if (response.data.statusCode == 200) {\n                    console.log(\"inside\");\n                    state.value = \"loggedIn\";\n                    state.role = response.data.role\n                    return state;\n                }\n\n                // axios.post(\"http://localhost:9091/user/register\", action.payload).then(\n                //     response => {\n                //         console.log(response);\n                //         state = response;\n                //         return state;\n                //     },\n                //     error => {\n                //         console.log(error)\n                //     }\n                // )\n                // console.log(\"after\");\n            }\n\n        },\n    }\n)\nexport const { register, login } = UserSlice.actions\nexport default UserSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,MAAMC,SAAS,GAAGF,WAAW,CACzB;EACIG,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACVC,KAAK,EAAE,aAAa;IACpBC,IAAI,EAAE;EACV,CAAC;EACDC,QAAQ,EAAE;IACNC,QAAQ,EAAE,MAAAA,CAAOC,KAAK,EAAEC,MAAM,KAAK;MAC/B;MACA;MACAC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEH,KAAK,CAAC;MAC3BE,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEF,MAAM,CAAC;MAC7BC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;MAErB,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAAC,qCAAqC,EAAEJ,MAAM,CAACK,OAAO,CAAC;MACxFJ,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEC,QAAQ,CAACG,IAAI,CAACC,UAAU,CAAC;MACjD,IAAIJ,QAAQ,CAACG,IAAI,CAACC,UAAU,IAAI,GAAG,EAAE;QACjCN,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;QACrBH,KAAK,CAACJ,KAAK,GAAG,YAAY;QAC1B,OAAOI,KAAK;MAChB;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACJ,CAAC;;IAEDS,KAAK,EAAE,MAAAA,CAAOT,KAAK,EAAEC,MAAM,KAAK;MAC5B;MACA;MACAC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEH,KAAK,CAAC;MAC3BE,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEF,MAAM,CAAC;MAC7BC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;MAErB,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAAC,kCAAkC,EAAEJ,MAAM,CAACK,OAAO,CAAC;MACrFJ,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEC,QAAQ,CAACG,IAAI,CAACC,UAAU,CAAC;MACjD,IAAIJ,QAAQ,CAACG,IAAI,CAACC,UAAU,IAAI,GAAG,EAAE;QACjCN,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;QACrBH,KAAK,CAACJ,KAAK,GAAG,UAAU;QACxBI,KAAK,CAACH,IAAI,GAAGO,QAAQ,CAACG,IAAI,CAACV,IAAI;QAC/B,OAAOG,KAAK;MAChB;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACJ;EAEJ;AACJ,CAAC,CACJ;;AACD,OAAO,MAAM;EAAED,QAAQ;EAAEU;AAAM,CAAC,GAAGhB,SAAS,CAACiB,OAAO;AACpD,eAAejB,SAAS,CAACkB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}